{"version":3,"sources":["components/common/PageTitle.js","pages/Settings.js"],"names":["PageTitle","title","className","Settings","fetchContext","useContext","FetchContext","useState","bio","setBio","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","a","authAxios","get","data","console","log","getBio","saveBio","patch","message","response","text","initialValues","onSubmit","values","enableReinitialize","component","name","placeholder","type"],"mappings":"8GAAA,oBAUeA,IARG,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OAChB,yBAAKC,UAAU,gBACb,wBAAIA,UAAU,oCACXD,M,qJC6EQE,UArEE,WACf,IAAMC,EAAeC,qBAAWC,KADX,EAECC,qBAFD,mBAEdC,EAFc,KAETC,EAFS,OAGuBF,qBAHvB,mBAGdG,EAHc,KAGEC,EAHF,OAImBJ,qBAJnB,mBAIdK,EAJc,KAIAC,EAJA,KAMrBC,qBAAU,YACI,uCAAG,8BAAAC,EAAA,+EAEYX,EAAaY,UAAUC,IAC5C,OAHS,gBAEHC,EAFG,EAEHA,KAGRT,EAAOS,EAAKV,KALD,gDAOXW,QAAQC,IAAR,MAPW,yDAAH,qDAUZC,KACC,CAACjB,IAEJ,IAAMkB,EAAO,uCAAG,WAAMd,GAAN,mBAAAO,EAAA,+EAEWX,EAAaY,UAAUO,MAC5C,MACAf,GAJU,gBAEJU,EAFI,EAEJA,KAIRL,EAAgB,MAChBF,EAAkBO,EAAKM,SAPX,gDASJN,EAAS,KAAIO,SAAbP,KACRP,EAAkB,MAClBE,EAAgBK,EAAKM,SAXT,yDAAH,sDAcb,OACE,oCACE,kBAAC,IAAD,CAAWvB,MAAM,aACjB,kBAAC,IAAD,KACE,wBAAIC,UAAU,kBAAd,qBAGCQ,GACC,kBAAC,IAAD,CAAagB,KAAMhB,IAEpBE,GAAgB,kBAAC,IAAD,CAAWc,KAAMd,IAClC,kBAAC,IAAD,CACEe,cAAe,CACbnB,OAEFoB,SAAU,SAAAC,GAAM,OAAIP,EAAQO,IAC5BC,oBAAoB,IAEnB,kBACC,kBAAC,IAAD,KACE,kBAAC,IAAD,CACE5B,UAAU,sDACV6B,UAAU,WACVC,KAAK,MACLC,YAAY,kBAEd,kBAAC,IAAD,CAAgBP,KAAK,OAAOQ,KAAK","file":"static/js/7.f1594e5e.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst PageTitle = ({ title }) => (\r\n  <div className=\"my-1 sm:my-4\">\r\n    <h2 className=\"text-gray-800 font-bold text-2xl\">\r\n      {title}\r\n    </h2>\r\n  </div>\r\n);\r\n\r\nexport default PageTitle;\r\n","import React, {\r\n  useContext,\r\n  useState,\r\n  useEffect\r\n} from 'react';\r\nimport PageTitle from '../components/common/PageTitle';\r\nimport Card from './../components/common/Card';\r\nimport GradientButton from '../components/common/GradientButton';\r\nimport { Formik, Form, Field } from 'formik';\r\nimport { FetchContext } from './../context/FetchContext';\r\nimport FormError from './../components/FormError';\r\nimport FormSuccess from './../components/FormSuccess';\r\n\r\nconst Settings = () => {\r\n  const fetchContext = useContext(FetchContext);\r\n  const [bio, setBio] = useState();\r\n  const [successMessage, setSuccessMessage] = useState();\r\n  const [errorMessage, setErrorMessage] = useState();\r\n\r\n  useEffect(() => {\r\n    const getBio = async () => {\r\n      try {\r\n        const { data } = await fetchContext.authAxios.get(\r\n          'bio'\r\n        );\r\n        setBio(data.bio);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getBio();\r\n  }, [fetchContext]);\r\n\r\n  const saveBio = async bio => {\r\n    try {\r\n      const { data } = await fetchContext.authAxios.patch(\r\n        'bio',\r\n        bio\r\n      );\r\n      setErrorMessage(null);\r\n      setSuccessMessage(data.message);\r\n    } catch (err) {\r\n      const { data } = err.response;\r\n      setSuccessMessage(null);\r\n      setErrorMessage(data.message);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <PageTitle title=\"Settings\" />\r\n      <Card>\r\n        <h2 className=\"font-bold mb-2\">\r\n          Fill Out Your Bio\r\n        </h2>\r\n        {successMessage && (\r\n          <FormSuccess text={successMessage} />\r\n        )}\r\n        {errorMessage && <FormError text={errorMessage} />}\r\n        <Formik\r\n          initialValues={{\r\n            bio\r\n          }}\r\n          onSubmit={values => saveBio(values)}\r\n          enableReinitialize={true}\r\n        >\r\n          {() => (\r\n            <Form>\r\n              <Field\r\n                className=\"border border-gray-300 rounded p-1 w-full h-56 mb-2\"\r\n                component=\"textarea\"\r\n                name=\"bio\"\r\n                placeholder=\"Your bio here\"\r\n              />\r\n              <GradientButton text=\"Save\" type=\"submit\" />\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n"],"sourceRoot":""}