{"version":3,"sources":["components/common/GradientBar.js","components/AvatarDropdown.js","components/Navbar.js","components/Sidebar.js","components/AuthDebugger.js","components/Footer.js","AppShell.js","components/common/GradientLink.js","pages/FourOFour.js","pages/Home.js","components/common/Hyperlink.js","util/fetch.js","pages/Login.js","pages/Signup.js","App.js","serviceWorker.js","index.js","images/logo.png","components/common/Label.js","components/common/FormError.js","components/common/Input.js","components/FormInput.js","components/common/GradientButton.js","components/common/Card.js","components/FormSuccess.js","components/FormError.js","context/FetchContext.js","images/defaultAvatar.png","context/AuthContext.js"],"names":["GradientBar","className","DropdownItem","item","onClick","icon","title","DropdownContent","dropdownItems","map","i","key","AvatarDropdown","node","useRef","auth","useContext","AuthContext","authState","useState","dropdownOpen","setDropdownOpen","faSignOutAlt","logout","handleClick","e","current","contains","target","useEffect","document","addEventListener","removeEventListener","ref","src","userInfo","avatar","defaultAvatar","alt","firstname","faCaretDown","SearchInput","placeholder","faArrowRight","Navbar","navItems","label","path","faChartLine","allowedRoles","faChartPie","faAddressCard","faCogs","faDoorOpen","NavItem","navItem","isCurrentRoute","useLocation","pathname","classes","classNames","to","NavItemContainer","children","Sidebar","role","logo","rel","includes","AuthStateItem","value","AuthDebugger","token","expiresAt","JSON","stringify","Footer","showAuthDebugger","setShowAuthDebugger","GradientButton","text","AppShell","GradientLink","size","FourOFour","Home","authContext","isAuthenticated","Hyperlink","publicFetch","axios","create","baseURL","process","LoginSchema","Yup","shape","email","required","password","Login","loginSuccess","setLoginSuccess","loginError","setLoginError","loginLoading","setLoginLoading","redirectOnLogin","setRedirectOnLogin","submitCredentials","credentials","a","post","data","setAuthState","console","log","message","setTimeout","Card","initialValues","onSubmit","values","validationSchema","FormSuccess","FormError","Label","FormInput","ariaLabel","name","type","loading","SignupSchema","firstName","lastName","Signup","signupSuccess","setSignupSuccess","signupError","setSignupError","response","Dashboard","lazy","Inventory","Settings","Account","Users","AuthenticatedRoute","rest","render","AdminRoute","isAdmin","AppRoutes","fallback","exact","App","Boolean","window","location","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","module","exports","Input","field","aria-label","useField","meta","touched","faCircleNotch","spin","faCheckCircle","FetchContext","createContext","Provider","FetchProvider","authAxios","get","defaults","headers","csrfToken","getCsrfToken","AuthProvider","history","useHistory","localStorage","getItem","parse","setAuthInfo","setItem","authInfo","Date","getTime","removeItem","push"],"mappings":"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","file":"static/js/main.5538da2c.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst GradientBar = () => <div className=\"bg-gradient h-1\"></div>;\r\n\r\nexport default GradientBar;\r\n","import React, {\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n  useState\r\n} from 'react';\r\nimport {\r\n  faCaretDown,\r\n  faSignOutAlt\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { AuthContext } from './../context/AuthContext';\r\nimport defaultAvatar from './../images/defaultAvatar.png';\r\n\r\nconst DropdownItem = ({ item }) => (\r\n  <button\r\n    className=\"text-gray-700 flex items-center\"\r\n    onClick={item.onClick}\r\n  >\r\n    <FontAwesomeIcon icon={item.icon} />\r\n    <p className=\"ml-2\">{item.title}</p>\r\n  </button>\r\n);\r\n\r\nconst DropdownContent = ({ dropdownItems }) => {\r\n  return (\r\n    <div className=\"bg-white w-full absolute p-4 shadow-lg rounded-lg mt-2\">\r\n      {dropdownItems.map((item, i) => {\r\n        return (\r\n          <div className=\"mt-1\" key={i}>\r\n            <DropdownItem item={item} />\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AvatarDropdown = () => {\r\n  const node = useRef();\r\n  const auth = useContext(AuthContext);\r\n  const { authState } = auth;\r\n  const [dropdownOpen, setDropdownOpen] = useState(false);\r\n\r\n  const dropdownItems = [\r\n    {\r\n      title: 'Log Out',\r\n      icon: faSignOutAlt,\r\n      onClick: auth.logout\r\n    }\r\n  ];\r\n\r\n  const handleClick = e => {\r\n    if (!node.current.contains(e.target)) {\r\n      setDropdownOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mousedown', handleClick);\r\n\r\n    return () => {\r\n      document.removeEventListener(\r\n        'mousedown',\r\n        handleClick\r\n      );\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div ref={node}>\r\n      <button\r\n        ref={node}\r\n        className=\"flex rounded-full items-center py-2 px-3 bg-gradient focus:outline-none shadow-lg\"\r\n        onClick={() => setDropdownOpen(!dropdownOpen)}\r\n      >\r\n        <img\r\n          src={authState.userInfo.avatar || defaultAvatar}\r\n          className=\"rounded-full w-6 border-2 border-white\"\r\n          alt=\"Avatar\"\r\n        />\r\n        <div className=\"px-3\">\r\n          <p className=\"text-white\">{authState.userInfo.firstname}</p>\r\n        </div>\r\n        <div className=\"mr-1 text-white\">\r\n          <FontAwesomeIcon icon={faCaretDown} />\r\n        </div>\r\n      </button>\r\n\r\n      {dropdownOpen && (\r\n        <div className=\"relative\">\r\n          <DropdownContent dropdownItems={dropdownItems} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AvatarDropdown;\r\n","import React from 'react';\r\nimport { faArrowRight } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport AvatarDropdown from './AvatarDropdown';\r\n\r\nconst SearchInput = () => (\r\n  <div className=\"flex\">\r\n    <input\r\n      className=\"py-2 px-4 border bg-gray-100 border-gray-300 rounded-full focus:outline-none w-32 sm:w-64\"\r\n      placeholder=\"Search\"\r\n    />\r\n    <button className=\"rounded-full bg-gradient px-4 ml-2 text-white flex items-center text-xs focus:outline-none shadow-lg\">\r\n      <FontAwesomeIcon icon={faArrowRight} />\r\n    </button>\r\n  </div>\r\n);\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className=\"flex justify-between px-4\">\r\n      <div className=\"\">\r\n        <SearchInput />\r\n      </div>\r\n      <div className=\"\">\r\n        <AvatarDropdown />\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useContext } from 'react';\r\nimport classNames from 'classnames';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n  faChartLine,\r\n  faAddressCard,\r\n  faChartPie,\r\n  faCogs,\r\n  faDoorOpen\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport logo from './../images/logo.png';\r\nimport { AuthContext } from './../context/AuthContext'\r\n\r\nconst navItems = [\r\n  {\r\n    label: 'Dashboard',\r\n    path: 'dashboard',\r\n    icon: faChartLine,\r\n    allowedRoles: ['user', 'admin']\r\n  },\r\n  {\r\n    label: 'Inventory',\r\n    path: 'inventory',\r\n    icon: faChartPie,\r\n    allowedRoles: ['admin']\r\n  },\r\n  {\r\n    label: 'Account',\r\n    path: 'account',\r\n    icon: faAddressCard,\r\n    allowedRoles: ['user', 'admin']\r\n  },\r\n  {\r\n    label: 'Settings',\r\n    path: 'settings',\r\n    icon: faCogs,\r\n    allowedRoles: ['user', 'admin']\r\n  },\r\n  {\r\n    label: 'Users',\r\n    path: 'users',\r\n    icon: faDoorOpen,\r\n    allowedRoles: ['admin']\r\n  }\r\n];\r\n\r\nconst NavItem = ({ navItem }) => {\r\n  const location = useLocation();\r\n  const isCurrentRoute =\r\n    location.pathname === `/${navItem.path}`;\r\n  const classes = classNames({\r\n    'px-2 sm:px-6 justify-center sm:justify-start py-3 rounded-full flex': true,\r\n    'text-gray-600 hover:text-blue-500 transform hover:translate-x-1 transition ease-in-out duration-100': !isCurrentRoute,\r\n    'bg-gradient text-gray-100 shadow-lg': isCurrentRoute\r\n  });\r\n  return (\r\n    <Link to={navItem.path} className={classes}>\r\n      <div className=\"flex items-center\">\r\n        <div className=\"mr-0 sm:mr-4\">\r\n          <FontAwesomeIcon icon={navItem.icon} />\r\n        </div>\r\n        <span className=\"hidden sm:block\">\r\n          {navItem.label}\r\n        </span>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nconst NavItemContainer = ({ children }) => (\r\n  <div>{children}</div>\r\n);\r\n\r\nconst Sidebar = () => {\r\n  const authContext = useContext(AuthContext);\r\n  const { role } = authContext.authState.userInfo\r\n  return (\r\n    <section className=\"h-screen\">\r\n      <div className=\"w-16 sm:w-24 m-auto\">\r\n        <img src={logo} rel=\"logo\" alt=\"Logo\" />\r\n      </div>\r\n      <div className=\"mt-20\">\r\n        {navItems.map((navItem, i) => (\r\n          <>\r\n          {navItem.allowedRoles.includes(role) && (\r\n          <NavItemContainer key={i}>\r\n            <NavItem navItem={navItem} />\r\n          </NavItemContainer>\r\n          )}\r\n          </>\r\n        ))}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React, { useContext } from 'react';\r\nimport { AuthContext } from './../context/AuthContext';\r\n\r\nconst AuthStateItem = ({ title, value }) => (\r\n  <div className=\"text-sm\">\r\n    <p className=\"font-bold mb-2\">{title}</p>\r\n    <pre className=\"whitespace-pre-wrap bg-gray-100 p-2 rounded\">\r\n      <code className=\"break-all\">{value}</code>\r\n    </pre>\r\n  </div>\r\n);\r\n\r\nconst AuthDebugger = () => {\r\n  const authContext = useContext(AuthContext);\r\n  const {\r\n    token,\r\n    expiresAt,\r\n    userInfo\r\n  } = authContext.authState;\r\n  return (\r\n    <section className=\"rounded-lg shadow bg-white p-4\">\r\n      <div className=\"mb-2\">\r\n        <AuthStateItem title=\"Token\" value={token} />\r\n      </div>\r\n      <div className=\"mb-2\">\r\n        <AuthStateItem title=\"Expiry\" value={expiresAt} />\r\n      </div>\r\n      <div className=\"mb-2\">\r\n        <AuthStateItem\r\n          title=\"User Info\"\r\n          value={JSON.stringify(userInfo, null, 2)}\r\n        />\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AuthDebugger;\r\n","import React, { useState } from 'react';\r\nimport GradientButton from './common/GradientButton';\r\nimport AuthDebugger from './AuthDebugger';\r\n\r\nconst Footer = () => {\r\n  const [showAuthDebugger, setShowAuthDebugger] = useState(\r\n    false\r\n  );\r\n  return (\r\n    <footer className=\"p-6\">\r\n      <div className=\"ml-2\">\r\n        <GradientButton\r\n          text=\"Auth Debugger\"\r\n          onClick={() =>\r\n            setShowAuthDebugger(!showAuthDebugger)\r\n          }\r\n        />\r\n      </div>\r\n      <div className=\"mt-4\">\r\n        {showAuthDebugger && <AuthDebugger />}\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport GradientBar from './components/common/GradientBar';\r\nimport Navbar from './components/Navbar';\r\nimport Sidebar from './components/Sidebar';\r\nimport Footer from './components/Footer';\r\n\r\nconst AppShell = ({ children }) => {\r\n  return (\r\n    <>\r\n      <GradientBar />\r\n      <div className=\"flex\">\r\n        <div className=\"sm:w-64 px-4 sm:px-8 pt-6 bg-white\">\r\n          <Sidebar />\r\n        </div>\r\n        <div className=\"flex flex-col w-full border-l border-gray-200\">\r\n          <div className=\"p-4 border-b border-gray-200 bg-white\">\r\n            <Navbar />\r\n          </div>\r\n          <div className=\"px-4 sm:px-8 py-2 bg-gray-100\">\r\n            {children}\r\n          </div>\r\n          <Footer />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AppShell;\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst GradientLink = ({ to, text, size }) => {\r\n  const classes = classNames({\r\n    'flex justify-center rounded-full py-2 px-6 bg-gradient focus:outline-none shadow-lg text-white': true,\r\n    'text-xl': size === 'lg'\r\n  });\r\n  return (\r\n    <Link to={to} className={classes}>\r\n      {text}\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default GradientLink;\r\n","import React from 'react';\r\nimport GradientLink from '../components/common/GradientLink';\r\n\r\nconst FourOFour = () => {\r\n  return (\r\n    <div className=\"flex flex-col items-center h-screen\">\r\n      <h1 className=\"text-6xl font-bold text-gray-800 mt-10\">\r\n        404\r\n      </h1>\r\n      <h2 className=\"text-4xl\">Page Not Found</h2>\r\n      <div className=\"mt-2\">\r\n        <GradientLink text=\"Go Back Home\" to=\"/\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FourOFour;\r\n","import React, {useContext} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport GradientLink from '../components/common/GradientLink';\r\nimport GradientBar from './../components/common/GradientBar';\r\nimport logo from './../images/logo.png';\r\nimport { AuthContext } from './../context/AuthContext'\r\n\r\nconst Home = () => {\r\n  const authContext = useContext(AuthContext)\r\n  return (\r\n    <>\r\n      <GradientBar />\r\n      <div className=\"w-full top-0 bg-white px-10 py-5\">\r\n        <div className=\"flex justify-between\">\r\n          <img\r\n            className=\"w-32 h-full\"\r\n            src={logo}\r\n            alt=\"Logo\"\r\n          />\r\n          <div className=\"flex items-center\">\r\n            <Link\r\n              to=\"/signup\"\r\n              className=\"text-blue-700 mr-6\"\r\n            >\r\n              Sign Up\r\n            </Link>\r\n            <GradientLink to={\r\n              authContext.isAuthenticated() ? '/dashBoard' : '/login'\r\n            } text=\"Log In\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"h-full bg-blue-900\">\r\n        <div className=\"opacity-10\">\r\n          <img\r\n            className=\"object-fill w-full\"\r\n            src=\"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max&ixid=eyJhcHBfaWQiOjF9\"\r\n            alt=\"Home\"\r\n          />\r\n        </div>\r\n        <div className=\"absolute left-0 top-0 mt-32 lg:mt-48 px-12 nato-sans\">\r\n          <div className=\"w-full lg:w-2/3\">\r\n            <h1 className=\"text-gray-200 text-2xl lg:text-6xl sm:text-5xl font-bold leading-tight\">\r\n              Sales Data Management That Works For Your Team\r\n            </h1>\r\n            <h2 className=\"text-gray-400 text-md sm:text-2xl sm:mt-10 mt-4\">\r\n              Take the pain out of managing your sales data\r\n            </h2>\r\n            <div className=\"mt-4 sm:mt-10 w-48\">\r\n              <GradientLink\r\n                text=\"Get Started\"\r\n                size=\"lg\"\r\n                to={ authContext.isAuthenticated() ? '/dashBoard' : '/signup'}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Hyperlink = ({ text, to }) => (\r\n  <Link\r\n    to={to}\r\n    className=\"font-medium text-blue-600 hover:text-blue-500 focus:outline-none focus:underline transition ease-in-out duration-150\"\r\n  >\r\n    {text}\r\n  </Link>\r\n);\r\n\r\nexport default Hyperlink;\r\n","import axios from 'axios';\r\n\r\nconst publicFetch = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL\r\n});\r\n\r\nexport { publicFetch };\r\n","import React, { useState, useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Form, Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport Card from '../components/common/Card';\r\nimport Hyperlink from './../components/common/Hyperlink';\r\nimport Label from './../components/common/Label';\r\nimport FormInput from './../components/FormInput';\r\nimport FormSuccess from './../components/FormSuccess';\r\nimport FormError from './../components/FormError';\r\nimport GradientBar from './../components/common/GradientBar';\r\nimport GradientButton from '../components/common/GradientButton';\r\nimport logo from './../images/logo.png';\r\nimport { publicFetch } from './../util/fetch';\r\nimport { AuthContext } from '../context/AuthContext'\r\n\r\nconst LoginSchema = Yup.object().shape({\r\n  email: Yup.string().required('Email is required'),\r\n  password: Yup.string().required('Password is required')\r\n});\r\n\r\nconst Login = () => {\r\n  const authContext = useContext(AuthContext);\r\n  const [loginSuccess, setLoginSuccess] = useState();\r\n  const [loginError, setLoginError] = useState();\r\n  const [loginLoading, setLoginLoading] = useState(false);\r\n  const [redirectOnLogin, setRedirectOnLogin] = useState(false);\r\n\r\n  const submitCredentials = async credentials => {\r\n    try {\r\n      setLoginLoading(true);\r\n      const { data } = await publicFetch.post('authenticate', credentials);\r\n      authContext.setAuthState(data);\r\n      console.log(data);\r\n      setLoginSuccess(data.message);\r\n      setLoginError('');\r\n      // redirect after successful login\r\n      setTimeout(() => {\r\n        setRedirectOnLogin(true)\r\n      }, 700) \r\n    } catch (error) {\r\n      setLoginLoading(false);\r\n      // const { data } = error.response;\r\n      // setLoginError(data.message);\r\n      setLoginSuccess(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n    {redirectOnLogin && <Redirect to=\"/dashboard\"/>}\r\n      <section className=\"w-full sm:w-1/2 h-screen m-auto p-8 sm:pt-10\">\r\n        <GradientBar />\r\n        <Card>\r\n          <div className=\"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"max-w-md w-full\">\r\n              <div>\r\n                <div className=\"w-32 m-auto mb-6\">\r\n                  <img src={logo} alt=\"Logo\" />\r\n                </div>\r\n                <h2 className=\"mb-2 text-center text-3xl leading-9 font-extrabold text-gray-900\">\r\n                  Log in to your account\r\n                </h2>\r\n                <p className=\"text-gray-600 text-center\">\r\n                  Don't have an account?{' '}\r\n                  <Hyperlink\r\n                    to=\"signup\"\r\n                    text=\"Sign up now\"\r\n                  />\r\n                </p>\r\n              </div>\r\n\r\n              <Formik\r\n                initialValues={{\r\n                  email: '',\r\n                  password: ''\r\n                }}\r\n                onSubmit={values =>\r\n                  submitCredentials(values)\r\n                }\r\n                validationSchema={LoginSchema}\r\n              >\r\n                {() => (\r\n                  <Form className=\"mt-8\">\r\n                    {loginSuccess && (\r\n                      <FormSuccess text={loginSuccess} />\r\n                    )}\r\n                    {loginError && (\r\n                      <FormError text={loginError} />\r\n                    )}\r\n                    <div>\r\n                      <div className=\"mb-2\">\r\n                        <div className=\"mb-1\">\r\n                          <Label text=\"Email\" />\r\n                        </div>\r\n                        <FormInput\r\n                          ariaLabel=\"Email\"\r\n                          name=\"email\"\r\n                          type=\"text\"\r\n                          placeholder=\"Email\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"mb-1\">\r\n                          <Label text=\"Password\" />\r\n                        </div>\r\n                        <FormInput\r\n                          ariaLabel=\"Password\"\r\n                          name=\"password\"\r\n                          type=\"password\"\r\n                          placeholder=\"Password\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"mt-6 flex justify-start\">\r\n                      <div className=\"text-sm leading-5\">\r\n                        <Hyperlink\r\n                          to=\"forgot-password\"\r\n                          text=\"Forgot your password?\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"mt-6\">\r\n                      <GradientButton\r\n                        type=\"submit\"\r\n                        text=\"Log In\"\r\n                        loading={loginLoading}\r\n                      />\r\n                    </div>\r\n                  </Form>\r\n                )}\r\n              </Formik>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState, useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Form, Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport Card from '../components/common/Card';\r\nimport GradientButton from '../components/common/GradientButton';\r\nimport Hyperlink from '../components/common/Hyperlink';\r\nimport Label from '../components/common/Label';\r\nimport FormInput from '../components/FormInput';\r\nimport GradientBar from './../components/common/GradientBar';\r\nimport FormError from './../components/FormError';\r\nimport FormSuccess from './../components/FormSuccess';\r\nimport logo from './../images/logo.png';\r\nimport { publicFetch } from './../util/fetch';\r\nimport { AuthContext } from '../context/AuthContext'\r\n\r\nconst SignupSchema = Yup.object().shape({\r\n  firstName: Yup.string().required(\r\n    'First name is required'\r\n  ),\r\n  lastName: Yup.string().required('Last name is required'),\r\n  email: Yup.string()\r\n    .email('Invalid email')\r\n    .required('Email is required'),\r\n  password: Yup.string().required('Password is required')\r\n});\r\n\r\nconst Signup = () => {\r\n  const authContext = useContext(AuthContext)\r\n  const [signupSuccess, setSignupSuccess] = useState();\r\n  const [signupError, setSignupError] = useState();\r\n  const [loginLoading, setLoginLoading] = useState(false);\r\n  const [redirectOnLogin, setRedirectOnLogin] = useState(false);\r\n\r\n  const submitCredentials = async credentials => {\r\n    try {\r\n      setLoginLoading(true);\r\n      const { data } = await publicFetch.post('signup', credentials);\r\n      authContext.setAuthState(data);\r\n      console.log(data);\r\n      setSignupSuccess(data.message);\r\n      setSignupError('');\r\n      // redirect after successful signup\r\n      setTimeout(() => {\r\n        setRedirectOnLogin(true)\r\n      }, 700)  \r\n    } catch (error) {\r\n      setLoginLoading(false);\r\n      const { data } = error.response;\r\n      setSignupError(data.message);\r\n      setSignupSuccess('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {redirectOnLogin && <Redirect to=\"/dashboard\"/>}\r\n      <section className=\"w-1/2 h-screen m-auto p-8 sm:pt-10\">\r\n        <GradientBar />\r\n        <Card>\r\n          <div className=\"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"max-w-md w-full\">\r\n              <div>\r\n                <div className=\"w-32 m-auto mb-6\">\r\n                  <img src={logo} alt=\"Logo\" />\r\n                </div>\r\n                <h2 className=\"mb-2 text-center text-3xl leading-9 font-extrabold text-gray-900\">\r\n                  Sign up for an account\r\n                </h2>\r\n                <p className=\"text-gray-600 text-center\">\r\n                  Already have an account?{' '}\r\n                  <Hyperlink to=\"login\" text=\"Log in now\" />\r\n                </p>\r\n              </div>\r\n              <Formik\r\n                initialValues={{\r\n                  firstName: '',\r\n                  lastName: '',\r\n                  email: '',\r\n                  password: ''\r\n                }}\r\n                onSubmit={values =>\r\n                  submitCredentials(values)\r\n                }\r\n                validationSchema={SignupSchema}\r\n              >\r\n                {() => (\r\n                  <Form className=\"mt-8\">\r\n                    {signupSuccess && (\r\n                      <FormSuccess text={signupSuccess} />\r\n                    )}\r\n                    {signupError && (\r\n                      <FormError text={signupError} />\r\n                    )}\r\n                    <input\r\n                      type=\"hidden\"\r\n                      name=\"remember\"\r\n                      value=\"true\"\r\n                    />\r\n                    <div>\r\n                      <div className=\"flex\">\r\n                        <div className=\"mb-2 mr-2 w-1/2\">\r\n                          <div className=\"mb-1\">\r\n                            <Label text=\"First Name\" />\r\n                          </div>\r\n                          <FormInput\r\n                            ariaLabel=\"First Name\"\r\n                            name=\"firstName\"\r\n                            type=\"text\"\r\n                            placeholder=\"First Name\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"mb-2 ml-2 w-1/2\">\r\n                          <div className=\"mb-1\">\r\n                            <Label text=\"Last Name\" />\r\n                          </div>\r\n                          <FormInput\r\n                            ariaLabel=\"Last Name\"\r\n                            name=\"lastName\"\r\n                            type=\"text\"\r\n                            placeholder=\"Last Name\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"mb-2\">\r\n                        <div className=\"mb-1\">\r\n                          <Label text=\"Email address\" />\r\n                        </div>\r\n                        <FormInput\r\n                          ariaLabel=\"Email address\"\r\n                          name=\"email\"\r\n                          type=\"email\"\r\n                          placeholder=\"Email address\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"mb-1\">\r\n                          <Label text=\"Password\" />\r\n                        </div>\r\n                        <FormInput\r\n                          ariaLabel=\"Password\"\r\n                          name=\"password\"\r\n                          type=\"password\"\r\n                          placeholder=\"Password\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"mt-6\">\r\n                      <GradientButton\r\n                        type=\"submit\"\r\n                        text=\"Sign Up\"\r\n                        loading={loginLoading}\r\n                      />\r\n                    </div>\r\n                  </Form>\r\n                )}\r\n              </Formik>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React, {lazy, useContext, Suspense} from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Redirect\r\n} from 'react-router-dom';\r\nimport './App.css';\r\nimport AppShell from './AppShell';\r\nimport { AuthProvider, AuthContext } from './context/AuthContext';\r\nimport { FetchProvider } from './context/FetchContext';\r\nimport FourOFour from './pages/FourOFour';\r\nimport Home from './pages/Home';\r\nimport Login from './pages/Login';\r\nimport Signup from './pages/Signup';\r\n\r\nconst Dashboard = lazy(() => import('./pages/Dashboard'));\r\nconst Inventory = lazy(() => import('./pages/Inventory'));\r\nconst Settings = lazy(() => import('./pages/Settings'));\r\nconst Account = lazy(() => import('./pages/Account'));\r\nconst Users = lazy(() => import('./pages/Users'));\r\n\r\nconst AuthenticatedRoute = ({ children, ...rest}) => {\r\n  const authContext = useContext(AuthContext);\r\n  return (\r\n    <Route {...rest} render = {() =>\r\n      authContext.isAuthenticated() ? \r\n      (<AppShell> { children } </AppShell>)\r\n              : \r\n      (<Redirect to='/' />)\r\n    }>\r\n    </Route>\r\n  )\r\n}\r\n\r\nconst AdminRoute = ({ children, ...rest }) => {\r\n  const authContext = useContext(AuthContext);\r\n  return (\r\n    <Route {...rest} render = {() =>\r\n      authContext.isAuthenticated() && authContext.isAdmin() ? \r\n    (<AppShell> { children } </AppShell>)\r\n              : \r\n      (<Redirect to='/' />)\r\n    }>\r\n    </Route>\r\n  )\r\n}\r\n\r\nconst AppRoutes = () => {\r\n  return (\r\n    <Suspense fallback={<div>Loading...</div>}>\r\n      <Switch>\r\n        <Route path=\"/login\">\r\n          <Login />\r\n        </Route>\r\n        <Route path=\"/signup\">\r\n          <Signup />\r\n        </Route>\r\n        <Route exact path=\"/\">\r\n          <Home />\r\n        </Route>\r\n\r\n        <AuthenticatedRoute path=\"/dashboard\">\r\n          <Dashboard />\r\n        </AuthenticatedRoute>\r\n        <AdminRoute path=\"/inventory\">\r\n          <Inventory />\r\n        </AdminRoute>\r\n        <AuthenticatedRoute path=\"/account\">\r\n          <Account />\r\n        </AuthenticatedRoute>\r\n        <AuthenticatedRoute path=\"/settings\">\r\n          <Settings />\r\n        </AuthenticatedRoute>\r\n        <AdminRoute path=\"/users\">\r\n          <Users />\r\n        </AdminRoute>\r\n\r\n        <Route path=\"*\">\r\n          <FourOFour />\r\n        </Route>\r\n      </Switch>\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <AuthProvider>\r\n        <FetchProvider>\r\n          <div className=\"bg-gray-100\">\r\n            <AppRoutes />\r\n          </div>\r\n        </FetchProvider>\r\n      </AuthProvider>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './tailwind.css';\r\nimport './styles.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.c76eac36.png\";","import React from 'react';\r\n\r\nconst Label = ({ text }) => (\r\n  <label className=\"text-sm font-semibold text-gray-700\">{text}</label>\r\n);\r\n\r\nexport default Label;\r\n","import React from 'react';\r\n\r\nconst FormError = ({ text }) => (\r\n  <span className=\"text-red-500 text-sm\">{text}</span>\r\n);\r\n\r\nexport default FormError;\r\n","import React from 'react';\r\n\r\nconst Input = ({ ariaLabel, name, type, placeholder, field }) => (\r\n  <input\r\n    {...field}\r\n    aria-label={ariaLabel}\r\n    name={name}\r\n    type={type}\r\n    className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5\"\r\n    placeholder={placeholder}\r\n  />\r\n);\r\n\r\nexport default Input;\r\n","import React from 'react';\r\nimport { useField } from 'formik';\r\nimport FormError from './../components/common/FormError';\r\nimport Input from './../components/common/Input';\r\n\r\nconst FormInput = ({\r\n  ariaLabel,\r\n  name,\r\n  type,\r\n  placeholder\r\n}) => {\r\n  const [field, meta] = useField(name);\r\n  return (\r\n    <>\r\n      <Input\r\n        field={field}\r\n        ariaLabel={ariaLabel}\r\n        name={field.name}\r\n        type={type}\r\n        placeholder={placeholder}\r\n      />\r\n      {meta.touched && meta.error ? (\r\n        <FormError text={meta.error}></FormError>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FormInput;\r\n","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCircleNotch } from '@fortawesome/free-solid-svg-icons';\r\nimport classNames from 'classnames';\r\n\r\nconst GradientButton = ({\r\n  type,\r\n  text,\r\n  size,\r\n  loading,\r\n  onClick\r\n}) => {\r\n  const classes = classNames({\r\n    'flex rounded-full items-center py-2 px-6 bg-gradient focus:outline-none shadow-lg text-white': true,\r\n    'text-2xl': size === 'lg'\r\n  });\r\n  return (\r\n    <button\r\n      type={type}\r\n      className={classes}\r\n      onClick={onClick}\r\n    >\r\n      {loading ? (\r\n        <span className=\"flex items-center\">\r\n          <FontAwesomeIcon icon={faCircleNotch} spin />\r\n          <span className=\"ml-2\">Loading...</span>\r\n        </span>\r\n      ) : (\r\n        <span>{text}</span>\r\n      )}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default GradientButton;\r\n","import React from 'react';\r\n\r\nconst Card = ({ children }) => (\r\n  <div className=\"p-3 rounded shadow-lg bg-white\">{children}</div>\r\n);\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport { faCheckCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst FormSuccess = ({ text }) => (\r\n  <section className=\"text-center p-2 mb-2 rounded border border-green-600 bg-green-100\">\r\n    <p className=\"text-green-700 font-bold\">\r\n      <FontAwesomeIcon icon={faCheckCircle} />\r\n      <span className=\"ml-1\">{text}</span>\r\n    </p>\r\n  </section>\r\n);\r\n\r\nexport default FormSuccess;\r\n","import React from 'react';\r\n\r\nconst FormError = ({ text }) => (\r\n  <section className=\"text-center p-2 mb-2 rounded border border-red-600 bg-red-100\">\r\n    <p className=\"text-xs text-red-500\">{text}</p>\r\n  </section>\r\n);\r\n\r\nexport default FormError;\r\n","import React, { createContext, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst FetchContext = createContext();\r\nconst { Provider } = FetchContext;\r\n\r\nconst FetchProvider = ({ children }) => {\r\n  // const authContext = useContext(AuthContext);   Only with localStorage\r\n\r\n  const authAxios = axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL\r\n  });\r\n\r\n  useEffect(() => {\r\n    const getCsrfToken = async () => {\r\n      const { data } = await authAxios.get('api/csrf-token');\r\n      console.log(data);\r\n      authAxios.defaults.headers['X-CSRF-Token'] = data.csrfToken\r\n    };\r\n\r\n    getCsrfToken();\r\n  }, [])\r\n\r\n  // Only with localStorage\r\n  // authAxios.interceptors.request.use(\r\n  //   config => {\r\n  //     config.headers.Authorization = `Bearer ${authContext.authState.token}`;\r\n  //     return config\r\n  //   },\r\n  //   error => {\r\n  //     return Promise.reject(error);\r\n  //   }\r\n  // )\r\n\r\n  return (\r\n    <Provider\r\n      value={{\r\n        authAxios\r\n      }}\r\n    >\r\n      {children}\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport { FetchContext, FetchProvider };\r\n","module.exports = \"data:image/png;base64,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\"","import React, { useState, createContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst AuthContext = createContext();\r\nconst { Provider } = AuthContext;\r\n\r\n\r\nconst AuthProvider = ({ children }) => {\r\n  const history = useHistory();\r\n\r\n  // const token = localStorage.getItem('token');\r\n  const userInfo = localStorage.getItem('userInfo');\r\n\r\n  const expiresAt = localStorage.getItem('expiresAt');\r\n  const [authState, setAuthState] = useState({\r\n    token: null,\r\n    expiresAt,\r\n    userInfo: userInfo ? JSON.parse(userInfo) : {}\r\n  })\r\n\r\n  const setAuthInfo = ({ token, userInfo, expiresAt }) => {\r\n    // localStorage.setItem('token', token);\r\n    localStorage.setItem('userInfo', JSON.stringify(userInfo));\r\n    localStorage.setItem('expiresAt', expiresAt);\r\n    setAuthState({\r\n      token,\r\n      userInfo,\r\n      expiresAt\r\n    })\r\n  }\r\n\r\n  const logout = () => {\r\n    // localStorage.removeItem('token');\r\n    localStorage.removeItem('userInfo');\r\n    localStorage.removeItem('expiresAt');\r\n    setAuthState({\r\n      token: null,\r\n      userInfo: {},\r\n      expiresAt: null\r\n    })\r\n    history.push('/login');\r\n  }\r\n\r\n  const isAuthenticated = () => {\r\n    if(!authState.token || !authState.expiresAt) {\r\n      return false\r\n    }\r\n    return new Date().getTime() / 1000 < authState.expiresAt\r\n  }\r\n\r\n  const isAdmin = () => {\r\n    return authState.userInfo.role === 'admin'\r\n  }\r\n\r\n  return (\r\n    <Provider\r\n      value={{\r\n        authState,\r\n        setAuthState: authInfo => setAuthInfo(authInfo),\r\n        isAuthenticated,\r\n        logout,\r\n        isAdmin\r\n      }}\r\n    >\r\n      {children}\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport { AuthContext, AuthProvider };\r\n"],"sourceRoot":""}